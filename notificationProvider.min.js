(function(d){function n(){var f=h();return f?document[f]:!1}function h(){var f=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var a=0;a<f.length;a++)if(f[a]+"Hidden"in document)return f[a]+"Hidden";return null}function k(){var a=["webkit","moz","ms","o"];if("Notification"in d)return"Notification";for(var b=0;b<a.length;b++)if(a[b]+"Notification"in d)return a[b]+"Notification";return null}var a=function(){var a=k();return a?d[a]:!1}(),b="true"===localStorage.getItem("notifications")||
!1;navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;d.notificationProvider={Factory:function(f,d){var c=d||{},l=c.vibrationPattern,h=c.onshow,k=c.ondisplay,p=c.onclick,q=c.onclose,r=c.onerror;return{notify:function(d,c){function t(b,d){var c=d||{},e=c.body||"",g=c.tags||"",c=c.data||{};a.createNotification?(e=a.createNotification(f,b,e),e.show()):e=new a(b,{icon:f,body:e,tags:g,data:c});e.onerror=r;e.ondisplay=k;e.onshow=h;e.onclick=p;e.onclose=
q;return e}var u=c||{},g=document.title;navigator.vibrate&&l&&navigator.vibrate(l);if(n()&&b){var v=setInterval(function(){document.title=document.title===g?d:g},1E3),m=function(){clearInterval(v);document.title=g;document.removeEventListener("visibilitychange",m)};document.addEventListener("visibilitychange",m)}if(a&&b&&("granted"===a.permission||a.checkPermission&&0==a.checkPermission()))return t(d,u)}}},toggle:function(){b=!b;localStorage.setItem("notifications",b.toString());a&&b&&("default"===
a.permission||"denied"===a.permission||a.checkPermission&&0!=a.checkPermission())&&a.requestPermission()}}})(window);
